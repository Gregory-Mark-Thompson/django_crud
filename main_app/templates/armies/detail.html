{% extends 'base.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/armies/army-detail.css' %}" />
{% endblock %}
{% block content %}
<section class="army-container">
    <div class="army-img">
        {% if army.nationality == 'French' %}
        <img src="{% static 'images/la_grande_armee.png' %}"
        alt="Oil Painting of a French Soldier"
        />
        {% elif army.nationality == 'Confederate' %}
        <img src="{% static 'images/confederates_presumably.png' %}"
        alt="Watercolor of what may or may not be Confederate troops"
        />
        {% elif army.nationality == 'German' %}
        <img src="{% static 'images/theres_nothing_weird_about_this.png' %}"
        alt="There's definitely nothing odd or disturbing about these toy WWII soldiers."
        />
        {% else %}
        <img src="{% static 'images/generic_soldiers.png' %}"
        alt="Basic b. green army men like from Toy Story"
        />
        {% endif %}
    </div>
    <div class="army-details">
        <h1>{{ army.name }}</h1>
        <ul>
            <li><p>&nbsp;&nbsp;&nbsp;&nbsp;Chief Commander: {{ army.leader }}</p></li>
            <li><p>&nbsp;&nbsp;&nbsp;&nbsp;Nation they shed blood for: {{ army.nationality }}</p></li>
            <li><p>&nbsp;&nbsp;&nbsp;&nbsp;Year: {{ army.year }}</p></li>
            <li><p>&nbsp;&nbsp;&nbsp;&nbsp;Size at some point that year: {{ army.size }}</p></li>
            <li><p>&nbsp;&nbsp;&nbsp;&nbsp;The tools they used to kill: {{ army.weapons }}</p></li>
            <li><p>&nbsp;&nbsp;&nbsp;&nbsp;Interesting observations: {{ army.details }}</p></li>
        </ul>
        <div class="army-actions">
            <a href="{% url 'army-update' army.id %}" class="btn warn">Edit</a>
            <a href="{% url 'army-delete' army.id %}" class="btn danger">Delete</a> </div>
    </div>
</section>



<div class="battle-container">
    <section class="battle">
        <div class="subsection-title">
            <h2>Battles</h2>
            <img
              src="{% static 'images/orc.png' %}"
              alt="What I'm fairly certain is an Orc Boi from Warhammer 40k"
            />
        </div>
        <h3>Add a Battle</h3>
        <form
          action="{% url 'add-battle' army.id %}"
          method="post"
          class="subsection-content"
          autocomplete="off"
        >
            {% csrf_token %}
            {{ battle_form.as_p }}
            <button type="submit" class="btn submit">Add Battle</button>
        </form>
        <h3>Past Battles</h3>
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Location</th>
                    <th>Enemy</th>
                    <th>Losses</th>
                    <th>Enemy's Losses</th>
                    <th>Outcome</th>
                    <th>Discussion</th>
                </tr>
            </thead>
            <tbody>
                {% for battle in army.battle_set.all %}
                    <tr>
                        <td>{{battle.date}}</td>
                        <td>{{battle.location}}</td>
                        <td>{{battle.enemy}}</td>
                        <td>{{battle.losses}}</td>
                        <td>{{battle.enemy_losses}}</td>
                        <td>{{battle.get_outcome_display}}</td>
                        <td>{{battle.discussion}}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
</div>

{% endblock %}
